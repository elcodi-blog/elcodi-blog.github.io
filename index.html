
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Elcodi blog</title>
  <meta name="author" content="Elcodi Team">

  
  <meta name="description" content="Hi there everyone. The Elcodi core team is glad to announce that next June 1st, we will tag the
first stable release of the project (Elcodi will be &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://elcodi-blog.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Elcodi blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-50003565-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:elcodi-blog.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">
        <span class="blue_light">
            Elcodi blog
        </span>
       
    </a></li>
  <li><a href="http://elcodi.io">Website</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/04/first-stable-release/">First Stable Release</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-04T19:51:28+02:00" pubdate data-updated="true">Apr 4<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hi there everyone.</p>

<p>The Elcodi core team is glad to announce that next June 1st, we will tag the
first stable release of the project (Elcodi will be still based on Symfony, you
know how much we like Symfony and its community&hellip;)</p>

<h3>Elcodi v1.0</h3>

<ul>
<li>Until this day, we&rsquo;ll finish stabilization of all packages</li>
<li>We will work so hard to finish a documentation for all of you</li>
<li>All available features will be covered by unit, functional and behavioral
tests, using PHPUnit and Behat 3.0</li>
<li>After <code>v1.0</code> we will start working on <code>v3.0</code>. This new version will be
released next November in order to be compatible with Symfony <code>v3.*</code>. It means
as well that this new version will introduce some BC Break, of course.</li>
</ul>


<p>So, we have less than 2 months to stabilize Elcodi package, and we need your
help.</p>

<p>Some days ago, we announced the
<a href="http://blog.elcodi.io/blog/2015/03/03/elcodi-bug-hunting/">Elcodi Bug Hunting</a>,
remember? Well, initially this contest was during this past March, but we have
decided to enlarge the period of the contest until June 1st, the day of the
release.</p>

<p>Until now, we have received some help from some people. Special thanks for them.</p>

<ul>
<li><a href="https://github.com/elcodi/elcodi/pulls?q=is%3Apr+is%3Aclosed+author%3Acordoval">cordoval</a></li>
<li><a href="https://github.com/elcodi/elcodi/pulls?q=is%3Apr+is%3Aclosed+author%3Ajaviereguiluz">javiereguiluz</a></li>
<li><a href="https://github.com/elcodi/elcodi/pulls?q=is%3Apr+is%3Aclosed+author%3Ahacfi">hacfi</a></li>
<li><a href="https://github.com/elcodi/elcodi/pulls?q=is%3Apr+is%3Aclosed+author%3Amickaelandrieu">mickaelandrieu</a></li>
<li><a href="https://github.com/elcodi/elcodi/pulls?q=is%3Apr+is%3Aclosed">And many more</a></li>
</ul>


<p>But we need some extra help in order to accomplish our goal.</p>

<h3>Win the MacBookPro</h3>

<p>Easy and super-fast. Do you want to win the MacBookPro? Easy, just help us with
some fast actions and you will be able to win the
<strong>Apple Macbook Pro 2014 Retina</strong> (of course, with an Android/Ubuntu/Windows
alternative or any geeky stuff with same price)</p>

<ul>
<li>Follow us on twitter (@elcodi_dev)</li>
<li>Give <a href="http://github.com/elcodi/elcodi">Elcodi repository</a> a star</li>
<li>Give <a href="http://github.com/elcodi/bamboo">Bamboo repository</a> a star</li>
<li>Give <a href="http://github.com/elcodi/docs">Elcodi docs repository</a> a star</li>
<li>Make a funny tweet about it, for example, sharing this post or trolling us
a little bit :)</li>
</ul>


<p>After that you will have 5 points, enough to access to the MacBookPro raffle.</p>

<h3>A little bit more&hellip;</h3>

<p>Are you interested in E-commerce and do you like Symfony? Well, there are some
extra things you can do to help. You can win the battle and win the
<strong>Ipad Air</strong></p>

<ul>
<li>[Download, install and try Bamboo)[<a href="http://elcodi.io/docs/quick-start.html">http://elcodi.io/docs/quick-start.html</a>)</li>
<li>If you find any kind of issue, please open an Issue in our repository and
report it to us.</li>
<li>Oh, you know how to fix it? That&rsquo;s wonderful! Create a Pull Request and be a
collaborator of the project!</li>
<li>We are elaborating a documentation&hellip; maybe you could help us looking for some
typo issues or creating new content&hellip;</li>
<li>Have you tried Elcodi and you want to express the world how much excited you
are? Great! Do a post in your blog and explain us what did you create with
Elcodi!</li>
<li>Elcodi is an international project, so we are looking for people able to
translate Bamboo to all languages (even in Klingon and Esperanto!). Are you
proud of your language? Well, help other people of your country for using this
project :)</li>
</ul>


<p>All this actions will give you some extra points.</p>

<p>Of course, if you need help, all Elcodi Core team will gladly help you. Just
enter <a href="https://gitter.im/elcodi/elcodi">Elcodi Gitter room</a> and say hello :)</p>

<p>Have a nice day!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/01/elcodi-changes-its-technology/">Elcodi Changes Its Technology</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-01T16:45:38+02:00" pubdate data-updated="true">Apr 1<span>st</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is an official statement from Elcodi Team.</p>

<p>After some nice months using Symfony in our project Elcodi, and after many
reflections on how to increase the project quality, we&rsquo;re proud to announce that
we are moving to Ruby on Rails.</p>

<p>Until version <code>v0.6.*</code> we will continue evolving our code for these people who
is nowadays using Elcodi in their projects, but after that, we will move all
our code to Ruby.</p>

<p><img src="http://planetargon.com/images/rails-love.png" alt="We love rails" /></p>

<p>If you need some information, feel free to keep in touch with us in our
<a href="https://gitter.im/elcodi/elcodi">Gitter account</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/03/03/elcodi-bug-hunting/">Elcodi Bug Hunting</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-03-03T16:19:05+01:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hi everyone!</p>

<p>It&rsquo;s been a long time since our last meeting! We&rsquo;ve been very busy here in
Elcodi HQ this months, focusing on the following events. And here we are to tell
you!</p>

<h2>New members</h2>

<p>Our team has grown, and we&rsquo;ll be proud to introduce our two new members properly
to you soon. For now, welcome <a href="//twitter.com/tonipinel">@tonipinel</a> and
<a href="//twitter.com/rogergros">@rogergros</a>!</p>

<h2>It&rsquo;s beta time!</h2>

<p>These last weeks have been awesome here! After a lot of working hours, coffees
and pizzas (and some beers), we&rsquo;re proud and happy to announce we&rsquo;ve reached
<strong>beta status in Elcodi</strong> and new version: <strong>v0.5.0</strong>.</p>

<p>This is working. This is really working! Now it&rsquo;s time to test it, massively.</p>

<h2>Elcodi Bug Hunting</h2>

<p>In order to make the community participant, we&rsquo;ll arrange something really
amazing: <strong>A contest!</strong>. We have named it <em>Elcodi Bug Hunting</em> and will be
available during March 2015.</p>

<blockquote><p>Edit: This contest will be opened until June 1st, the day of our first
release. It makes sense to increase the contest interval in order to get more
changes and more competition :)</p></blockquote>

<p>Let us explain what&rsquo;s this all about!</p>

<h3>The contest</h3>

<p><img src="https://cloud.githubusercontent.com/assets/170968/6443700/f152ea5e-c0f8-11e4-9acb-63c5f817b7a8.jpg" alt="bugs-everywhere" /></p>

<p>Our goal is to find and fix as many bugs as possible during the beta period, and
to grow more as a community.</p>

<h3>The prices</h3>

<ul>
<li>Apple Macbook Pro 2014 Retina 13&#8221;</li>
<li>Apple Ipad Air 16Gb</li>
</ul>


<h3>Scoring</h3>

<ul>
<li>Earn points by participating in <em>Elcodi Bug Hunting</em>.</li>
<li>Earn 5 points or more to access the <strong>Macbook Pro</strong> raffle.</li>
<li>The more points you have, the more chances to win the raffle.</li>
<li>Get the highest score and win an <strong>Ipad Air</strong>!</li>
</ul>


<h4>The easypick</h4>

<p>Social interaction is important to us, because that&rsquo;s the way we&rsquo;re reaching and
hearing from you. And we want <strong>you</strong> to be part of this!</p>

<p>That&rsquo;s why we&rsquo;ll reward you for:</p>

<ul>
<li>Star on Github (<a href="//github.com/elcodi/elcodi">elcodi/elcodi</a>) &ndash; <em>1 point</em></li>
<li>Star on Github (<a href="//github.com/elcodi/bamboo">elcodi/bamboo</a>) &ndash; <em>1 point</em></li>
<li>Follow on Twitter (<a href="//twitter.com/elcodi_dev">@elcodi_dev</a>) &ndash; <em>1 point</em></li>
<li>Twitter mention &ndash; <em>1 point (max 2)</em></li>
</ul>


<h4>The collaborator</h4>

<p>The more eyes looking at our code, the better chance to improve! Collaboration
is vital for an OpenSource project like this, and we&rsquo;re open for suggestions and
contributions. We want Elcodi to be helpful to you.</p>

<p>Give a try and clone <a href="//github.com/elcodi/elcodi">Elcodi project</a> or
<a href="//github.com/elcodi/bamboo">our store Bamboo</a>, enter
<a href="//gitter.im/elcodi/elcodi">Elcodi at Gitter</a>, discuss with us and participate.
That&rsquo;s OpenSource at it&rsquo;s finest!</p>

<p>We will appreciate:</p>

<ul>
<li>Open Github issue &ndash; <em>2 points</em></li>
<li>Creating a Pull Request &ndash; <em>2 points</em></li>
<li>Accepted Pull Request &ndash; <em>5 points</em></li>
<li>Contributors up to present day &ndash; <em>10 points</em></li>
</ul>


<h4>The Best of the best</h4>

<p>We encourage those who work hard. That&rsquo;s why we&rsquo;ll distribute some points
discretely based on:</p>

<ul>
<li>Best 5 pull requests &ndash; <em>5 points</em></li>
<li>Best 3 tweets &ndash; <em>15, 10, 5 points</em></li>
<li>Best 3 troll-tweets &ndash; <em>15, 10, 5 points</em></li>
</ul>


<h3>The jury</h3>

<ul>
<li>Marc Morera (<a href="//twitter.com/mmoreram">@mmoreram</a>)</li>
<li>Aldo Chiecchia (<a href="//twitter.com/alch">@alch</a>)</li>
<li>Berny Cantos (<a href="//twitter.com/xphere">@xphere</a>)</li>
<li>Toni Pinel (<a href="//twitter.com/tonipinel">@tonipinel</a>)</li>
<li>Roger Gros (<a href="//twitter.com/rogergros">@rogergros</a>)</li>
</ul>


<h2>Let&rsquo;s <del>Go</del> PHP!!</h2>

<p>Feel free to try the platform, test it and find security vulnerabilities and
bugs. During this month we will improve current features and we will focus on
the quality of the code, with small refactors and more (and more) tests.</p>

<p>We will work as well with the documentation, so feel free to help us on that
task :)</p>

<p>Don&rsquo;t hesitate to get in touch with us and enjoy Elcodi! :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/11/a-week-of-elcodi-number-5/">A Week of Elcodi #5 (24/11 - 08/12)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-11T20:15:24+01:00" pubdate data-updated="true">Dec 11<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hi there! These two weeks have been full of work, with our talk in <a href="http://madrid2014.symfony.com">SymfonyCon</a> being the highlight. We&rsquo;re working on a post explaining the experience but, in short, it was amazing to present Elcodi to the people in the Symfony community. Stay tuned!</p>

<p>Meanwhile, on this side of the keyboard, we&rsquo;ve been doing some things also, such as resume the implementation of our <code>StateTransitionMachine</code>, previously known as <code>StateMachine</code>, and polishing some details.</p>

<p>Besides, we wanted to implement an entity translator completely decoupled of our entities, because we think that the most important part of an e-commerce project is the model. So we worked on it for a while and now the <a href="https://github.com/elcodi/elcodi/pull/382">Translator component</a> is born. You&rsquo;re welcome to comment and collaborate on the implementation.</p>

<p>To persist the settings for each shop, we are working on a <a href="https://github.com/elcodi/elcodi/pull/383">dynamic configuration component</a> useful for storing simple values. As usual, it comes with adapters so that any backend storage can be supported.</p>

<p>From the viewpoint of desing, we want a more agile, easy and intuitive admin experience, so we&rsquo;re checking and improving the UX of Elcodi Admin&rsquo;s interface. First adjustments include some improvements about navigation, and an early approach to the first-time experience, something that we will look in depth in the next week.</p>

<p>Also we&rsquo;re putting together our <a href="https://github.com/elcodi/elcodi/pull/378">new Page component</a> to be as generic as possible, but user-friendly too. This includes developers: we are making great efforts to provide a better DX (Developer eXperience), so feel free to drop by our <a href="https://gitter.im/elcodi/elcodi">gitter</a> and ask your own questions. We&rsquo;ll be glad to help you. ;)</p>

<p>See you next week!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/25/a-week-of-elcodi-number-4/">A Week of Elcodi #4 (17/11 - 24/11)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-25T12:39:32+01:00" pubdate data-updated="true">Nov 25<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last few days were kind of crazy at Elcodi, with @alch <a href="http://madrid2014.symfony.com/speakers#session-1399">leaving the slides ready for our speak at the #SymfonyCon</a>, @mmoreram <a href="http://mmoreram.com/blog/2014/11/25/symfony-walk-ends">walking the #SymfonyWalk</a> and @xphere <a href="https://github.com/elcodi/elcodi">annoying in our GitHub repository</a> and <a href="http://blog.elcodi.io/blog/categories/one-section-one-component">writing about Symfony Components</a>.</p>

<p>But this madness is great, trust me! We&rsquo;ll reach a milestone in our path with the forthcoming #SymfonyCon, and we&rsquo;re proud and happy to have the opportunity to be there, to explain our point of view, the approach we&rsquo;re giving to Elcodi.</p>

<p>Remember, you can keep in touch with us in our <a href="https://gitter.im/elcodi/elcodi">gitter chat</a> and our <a href="https://twitter.com/elcodi_dev">twitter account</a>. Also we&rsquo;d be more than happy with more issues, PRs and collaborators in <a href="https://github.com/elcodi/elcodi">GitHub</a>… Let&rsquo;s make something funny and useful together!</p>

<p>See you in Madrid! ;&ndash;)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/21/console-component/">The Console Component</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-21T19:02:40+01:00" pubdate data-updated="true">Nov 21<span>st</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The next post in the series of <a href="/blog/categories/one-section-one-component/">&ldquo;One section one component&rdquo;</a>, in support of our friend <a href="https://github.com/mmoreram">Marc Morera</a> in his <a href="https://twitter.com/hashtag/symfonywalk?f=realtime">#symfonywalk</a>, is about the <a href="http://symfony.com/doc/current/components/console">Console component</a>. Marc has had some problems early in his journey, so we want to send him energy and courage for the next steps of the walk. Go Marc! You can send him words of encouragement too in his twitter account <a href="https://twitter.com/mmoreram">@mmoreram</a>!</p>

<h2>Description</h2>

<p>The Console component helps you create console applications. It is like <code>HttpRequest</code> + <code>Routing</code>, but for command line. With this component you can:</p>

<ul>
<li>Create single or multiple commands in an application.</li>
<li>Define and parse command&rsquo;s arguments and options.</li>
<li>Execute a command.</li>
<li>Output information to terminal while processing a command.</li>
<li>Allow automatic management of <code>--help</code> options.</li>
</ul>


<h2>Basic classes</h2>

<ul>
<li><strong><code>Command</code></strong>: configuration of a command with name, parameters, options…</li>
<li><strong><code>InputArgument</code></strong> and <strong><code>InputOption</code></strong>: defines how command-line parameters and options are parsed and passed to a <code>Command</code>.</li>
<li><strong><code>InputInterface</code></strong>: allows read operations from terminal.</li>
<li><strong><code>OutputInterface</code></strong>: encapsulate terminal writing.</li>
<li><strong><code>Application</code></strong>: a group of one or more <code>Command</code>s and <code>Helper</code>s.</li>
</ul>


<h2>Example of usage</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">WriteCommand</span> <span class="k">extends</span> <span class="nx">Command</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">configure</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;write&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s1">&#39;Writes text to a file&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">addArgument</span><span class="p">(</span>
</span><span class='line'>                <span class="s1">&#39;filename&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">InputArgument</span><span class="o">::</span><span class="na">REQUIRED</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;Which file to write?&#39;</span>
</span><span class='line'>            <span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">addArgument</span><span class="p">(</span>
</span><span class='line'>                <span class="s1">&#39;text&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">InputArgument</span><span class="o">::</span><span class="na">OPTIONAL</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;Which text to write?&#39;</span>
</span><span class='line'>            <span class="p">)</span>
</span><span class='line'>            <span class="o">-&gt;</span><span class="na">addOption</span><span class="p">(</span>
</span><span class='line'>                <span class="s1">&#39;yell&#39;</span><span class="p">,</span>
</span><span class='line'>                <span class="k">null</span><span class="p">,</span>
</span><span class='line'>                <span class="nx">InputOption</span><span class="o">::</span><span class="na">VALUE_NONE</span><span class="p">,</span>
</span><span class='line'>                <span class="s1">&#39;If set, text will be upper-cased&#39;</span>
</span><span class='line'>            <span class="p">)</span>
</span><span class='line'>        <span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">execute</span><span class="p">(</span><span class="nx">InputInterface</span> <span class="nv">$input</span><span class="p">,</span> <span class="nx">OutputInterface</span> <span class="nv">$output</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$filename</span> <span class="o">=</span> <span class="nv">$input</span><span class="o">-&gt;</span><span class="na">getArgument</span><span class="p">(</span><span class="s1">&#39;filename&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$text</span> <span class="o">=</span> <span class="nv">$input</span><span class="o">-&gt;</span><span class="na">getArgument</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nv">$input</span><span class="o">-&gt;</span><span class="na">getOption</span><span class="p">(</span><span class="s1">&#39;yell&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$text</span> <span class="o">=</span> <span class="nx">strtoupper</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="k">false</span> <span class="o">===</span> <span class="nb">file_put_contents</span><span class="p">(</span><span class="nv">$filename</span><span class="p">,</span> <span class="nv">$text</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">throw</span> <span class="k">new</span> <span class="nx">RuntimeException</span><span class="p">(</span><span class="s1">&#39;Error writing to file.&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$output</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="s1">&#39;File was successfully written.&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$application</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Application</span><span class="p">();</span>
</span><span class='line'><span class="nv">$application</span><span class="o">-&gt;</span><span class="na">addCommands</span><span class="p">([</span>
</span><span class='line'>    <span class="k">new</span> <span class="nx">WriteCommand</span><span class="p">(),</span>
</span><span class='line'><span class="p">]);</span>
</span><span class='line'><span class="nv">$application</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now on your command line you can type <code>php console.php write path/to/filename "text to write"</code>.</p>

<p>Usually, the <code>Command</code> should behave like a <code>Controller</code>, this is, checking parameters and passing them to one or more services to do the real work.</p>

<p>You can also add a previous step of interaction with the user, so they can provide any missing or ambiguous information. This part is skipped automatically if the <code>--no-interaction</code> (or <code>-n</code>) is used.</p>

<p>For user interaction, you can use <code>OutputInterface</code> directly, but there are many <code>Helpers</code> you can use, being the <code>QuestionHelper</code><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> the most helpful (no pun intended).</p>

<p>Let&rsquo;s see how we can add interaction to our previous example.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">WriteCommand</span> <span class="k">extends</span> <span class="nx">Command</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="err">…</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">interact</span><span class="p">(</span><span class="nx">InputInterface</span> <span class="nv">$input</span><span class="p">,</span> <span class="nx">OutputInterface</span> <span class="nv">$output</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$filename</span> <span class="o">=</span> <span class="nv">$input</span><span class="o">-&gt;</span><span class="na">getArgument</span><span class="p">(</span><span class="s1">&#39;filename&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="k">null</span> <span class="o">===</span> <span class="nv">$filename</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">whenBaseDirectoryExists</span><span class="p">(</span><span class="nv">$filename</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">confirmDirectoryCreation</span><span class="p">(</span><span class="nv">$filename</span><span class="p">,</span> <span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">whenFileAlreadyExists</span><span class="p">(</span><span class="nv">$filename</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">confirmFileOverwrite</span><span class="p">(</span><span class="nv">$filename</span><span class="p">,</span> <span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="k">null</span> <span class="o">===</span> <span class="nv">$input</span><span class="o">-&gt;</span><span class="na">getArgument</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">askForText</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">whenBaseDirectoryExists</span><span class="p">(</span><span class="nv">$filename</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nb">is_dir</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="nv">$filename</span><span class="p">));</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">confirmDirectoryCreation</span><span class="p">(</span><span class="nv">$filename</span><span class="p">,</span> <span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$questionHelper</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getHelper</span><span class="p">(</span><span class="s1">&#39;question&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$question</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ConfirmationQuestion</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;Base directory for &quot;&#39;</span> <span class="o">.</span> <span class="nv">$filename</span> <span class="o">.</span> <span class="s1">&#39;&quot; does not exist. Create? [y/n] &#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="k">true</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$questionHelper</span><span class="o">-&gt;</span><span class="na">ask</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">,</span> <span class="nv">$question</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">throw</span> <span class="k">new</span> <span class="nx">RuntimeException</span><span class="p">(</span><span class="s1">&#39;Base directory does not exist.&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nb">mkdir</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="nv">$filename</span><span class="p">),</span> <span class="mo">0777</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">whenFileAlreadyExists</span><span class="p">(</span><span class="nv">$filename</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nb">file_exists</span><span class="p">(</span><span class="nv">$filename</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">confirmFileOverwrite</span><span class="p">(</span><span class="nv">$filename</span><span class="p">,</span> <span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$questionHelper</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getHelper</span><span class="p">(</span><span class="s1">&#39;question&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$question</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ConfirmationQuestion</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;File &quot;&#39;</span> <span class="o">.</span> <span class="nv">$filename</span> <span class="o">.</span> <span class="s1">&#39;&quot; already exists. Overwrite? [y/n] &#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="k">true</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$questionHelper</span><span class="o">-&gt;</span><span class="na">ask</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">,</span> <span class="nv">$question</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">throw</span> <span class="k">new</span> <span class="nx">RuntimeException</span><span class="p">(</span><span class="s1">&#39;Can\&#39;t write to file.&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">askForText</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$questionHelper</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getHelper</span><span class="p">(</span><span class="s1">&#39;question&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$question</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Question</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;Please enter the content of the file: &#39;</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;&#39;</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$text</span> <span class="o">=</span> <span class="nv">$questionHelper</span><span class="o">-&gt;</span><span class="na">ask</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$output</span><span class="p">,</span> <span class="nv">$question</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$input</span><span class="o">-&gt;</span><span class="na">setArgument</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="https://gist.github.com/xphere/546d5e90d15c1f88d750">See here the full example</a></p>

<p>Now we&rsquo;re being requested for directory creation, file overwriting, and missing text arguments. Nice!</p>

<h2>Other classes</h2>

<ul>
<li><strong><code>Helpers</code></strong>: Extensions for <code>OutputInterface</code>, to ask questions, show progress bars or tables. You can add your own too, or check the <a href="http://symfony.com/doc/current/components/console/helpers">default ones</a>.</li>
</ul>


<h2>In Symfony2 framework</h2>

<p>Symfony2 detects <code>Command</code> classes in the <code>Command</code> directory of each bundle, and automatically adds them to the console application. As of 2.4, you can also mark services with the tag <code>console.command</code>. You can refer to this great <a href="http://symfony.com/doc/current/cookbook/console/commands_as_services.html">cookbook entry</a>.</p>

<h2>In Elcodi</h2>

<p>In Elcodi we provide commands for things such as <a href="https://github.com/elcodi/Currency/blob/master/Command/CurrencyExchangeRatesPopulateCommand.php">querying currency exchanges</a> or <a href="https://github.com/elcodi/Geo/blob/master/Command/GeoPopulateCommand.php">populating geo entities</a> from third party providers.</p>

<h2>Conclusion</h2>

<p>The <code>Console</code> component brings steroids to your command-line applications at nearly no cost for what you get in return. You can have multiple commands under the same application or <a href="http://symfony.com/doc/current/components/console/single_command_tool.html">just one</a>, you choose. If the <a href="https://getcomposer.org/">current PHP dependency manager</a> uses it, why not you?</p>

<h2>Urls</h2>

<ul>
<li><a href="https://github.com/symfony/Console">Repository</a></li>
<li><a href="http://symfony.com/doc/current/components/console">Documentation</a></li>
<li><a href="https://packagist.org/packages/symfony/console">Packagist</a></li>
</ul>

<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p><code>QuestionHelper</code> is available as of Symfony 2.5, for previous versions use the, now deprecated, <a href="http://symfony.com/doc/2.5/components/console/helpers/dialoghelper.html"><code>DialogHelper</code></a>.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/19/security-component/">The Security Component</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-19T22:39:51+01:00" pubdate data-updated="true">Nov 19<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The next in line in our <a href="/blog/categories/one-section-one-component/">&ldquo;One section, one component&rdquo;</a> series is the <a href="http://symfony.com/doc/current/components/security"><code>Security component</code></a>. It&rsquo;s a complex one, sure, but we&rsquo;ll take a look just to the nuts and bolts of it. Ready? Set… Go!</p>

<h2>Description</h2>

<p>This component brings authentication and authorization to your applications, with implementations for common use cases, like form login, HTTP or X.509 authentication, authorization by user, roles and ACL systems.</p>

<h2>Basic classes</h2>

<ul>
<li><strong>Token</strong>: Stores current user credentials.</li>
<li><strong>Listener</strong>: extract information from the Request by which the user might be authenticated. It should create a valid token and set it into the <strong>SecurityContext</strong><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.</li>
<li><strong>FirewallMap</strong>: maps a <a href="https://github.com/symfony/HttpFoundation/blob/master/RequestMatcher.php"><code>RequestMatcher</code></a> to a set of <code>Listener</code>s.</li>
<li><strong>Firewall</strong>: Integrates the <code>FirewallMap</code> with <code>EventDispatcher</code> and <code>HttpKernel</code> components.</li>
</ul>


<h2>Example of usage</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$exceptionListener</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ExceptionListener</span><span class="p">(</span> <span class="err">…</span> <span class="p">);</span>
</span><span class='line'><span class="nv">$matcher</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RequestMatcher</span><span class="p">(</span><span class="s1">&#39;^/admin/&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$listeners</span> <span class="o">=</span> <span class="p">[</span>
</span><span class='line'>  <span class="k">new</span> <span class="nx">AnonymousAuthenticationListener</span><span class="p">(</span> <span class="err">…</span> <span class="p">),</span>
</span><span class='line'>  <span class="k">new</span> <span class="nx">LogoutListener</span><span class="p">(</span> <span class="err">…</span> <span class="p">),</span>
</span><span class='line'><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$firewallMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FirewallMap</span><span class="p">();</span>
</span><span class='line'><span class="nv">$firewallMap</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$matcher</span><span class="p">,</span> <span class="nv">$listeners</span><span class="p">,</span> <span class="nv">$exceptionListener</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$firewall</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Firewall</span><span class="p">(</span><span class="nv">$firewallMap</span><span class="p">,</span> <span class="nv">$dispatcher</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Other classes</h2>

<ul>
<li><strong>UserProvider</strong>: Finds a user given his credentials.</li>
<li><strong>AutheticationEntryPoint</strong>: When a match is found but no authentication info can be extracted by the request, this has the chance to return a specific response asking for credentials. For example, the <a href="https://github.com/symfony/Security/blob/master/Http/EntryPoint/FormAuthenticationEntryPoint.php">FormAuthenticationEntryPoint</a> redirects to a login form.</li>
</ul>


<h2>In Symfony2 framework</h2>

<p>The <a href="https://github.com/symfony/SecurityBundle"><code>SecurityBundle</code></a> integrates this component into Symfony2, reading configuration from <code>security.yml</code> and adding some sane defaults.</p>

<h2>In Elcodi</h2>

<p><a href="https://github.com/elcodi/User"><code>Elcodi/User</code></a> depends on the <code>Security</code>  component for authentication. The main implementation of the <code>CustomerWrapper</code> extracts the current user from the <code>SecurityContext</code>. Also, in <a href="http://bamboo.elcodi.com/">our example application, Bamboo</a>, we depend on the excelent <a href="https://github.com/hwi/HWIOAuthBundle"><code>hwi/oauth-bundle</code></a>, which is a good example of extending this component, for OAuth authentication.</p>

<h2>Conclusion</h2>

<p>Almost every non-trivial application requires some kind of authentication. The <code>Security</code> component gives you all the power you should need, although it may be hard to use standalone. The integration with the framework makes for a much more enjoyable experience. We&rsquo;re already using this component! And you?</p>

<p>Have fun!</p>

<h2>Urls</h2>

<ul>
<li><a href="https://github.com/symfony/Security">Repository</a></li>
<li><a href="http://symfony.com/doc/current/components/security">Documentation</a></li>
<li><a href="https://packagist.org/packages/symfony/security">Packagist</a></li>
</ul>

<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p><a href="http://symfony.com/blog/new-in-symfony-2-6-security-component-improvements"><strong>SecurityContext</strong> is deprecated since Symfony 2.6 in favor of <strong>TokenStorage</strong></a>.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/18/the-routing-component/">The Routing Component</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-18T22:39:54+01:00" pubdate data-updated="true">Nov 18<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a complement to the <a href="http://mmoreram.com/blog/2014/08/07/symfony-walk-zaragoza-madrid/">#SymfonyWalk</a> we start <a href="/blog/categories/one-section-one-component/">&ldquo;One section, one component&rdquo;</a>, a series of posts about some of the symfony components. Let&rsquo;s start with routing!</p>

<h2>Description</h2>

<p>As each component does, the <a href="https://github.com/symfony/Routing">Routing component</a> focuses and solves a small problem, in this case, matching urls to routes, so we can extract related information, and vice versa.</p>

<p>Things you can do with this component:</p>

<ul>
<li>Load your routes from anywhere into a collection.</li>
<li>Check if a request matches any of the routes.</li>
<li>Extract route-specific info from the request.</li>
<li>Generate a url from a route and route specific info.</li>
</ul>


<h2>Basic classes</h2>

<p>The cast of this component is:</p>

<ul>
<li><strong><code>Route</code></strong>: definition of a route, with path, requirements, options and conditions…</li>
<li><strong><code>RouteCollection</code></strong>: this bundles one or more <code>Routes</code> and allows to configure all of them at once.</li>
<li><strong><code>Matcher</code></strong>: Searches a <code>RouteCollection</code> for a matching uri.</li>
<li><strong><code>RequestContext</code></strong>: Context from the current request.</li>
</ul>


<h2>Example of usage</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$route</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Route</span><span class="p">(</span><span class="s1">&#39;/{name}&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$route</span><span class="o">-&gt;</span><span class="na">setDefaults</span><span class="p">([</span>
</span><span class='line'>    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;GreeterController&#39;</span><span class="p">,</span>
</span><span class='line'><span class="p">]);</span>
</span><span class='line'><span class="nv">$route</span><span class="o">-&gt;</span><span class="na">setRequirements</span><span class="p">([</span>
</span><span class='line'>  <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;[a-z]+&#39;</span><span class="p">,</span>
</span><span class='line'><span class="p">]);</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$routes</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RouteCollection</span><span class="p">();</span>
</span><span class='line'><span class="nv">$routes</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;greet&#39;</span><span class="p">,</span> <span class="nv">$route</span><span class="p">);</span>
</span><span class='line'><span class="nv">$routes</span><span class="o">-&gt;</span><span class="na">addPrefix</span><span class="p">(</span><span class="s1">&#39;/hello&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$context</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RequestContext</span><span class="p">();</span>
</span><span class='line'><span class="nv">$matcher</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UrlMatcher</span><span class="p">(</span><span class="nv">$routes</span><span class="p">,</span> <span class="nv">$context</span><span class="p">);</span>
</span><span class='line'><span class="nv">$parameters</span> <span class="o">=</span> <span class="nv">$matcher</span><span class="o">-&gt;</span><span class="na">match</span><span class="p">(</span><span class="s1">&#39;/hello/fabien&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/*</span>
</span><span class='line'><span class="cm"> * $parameters === [</span>
</span><span class='line'><span class="cm"> *   &#39;_route&#39; =&gt; &#39;greet&#39;,</span>
</span><span class='line'><span class="cm"> *   &#39;_controller&#39; =&gt; &#39;GreeterController&#39;,</span>
</span><span class='line'><span class="cm"> *   &#39;name&#39; =&gt; &#39;fabien&#39;,</span>
</span><span class='line'><span class="cm"> * ]</span>
</span><span class='line'><span class="cm"> */</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Other classes</h2>

<p>Other supporting actors:</p>

<ul>
<li><strong>Loader</strong>: Loads a <code>RouteCollection</code> from a source.</li>
<li><strong>Generator</strong>: The opposite of <code>Matcher</code>, given a route name and route-specific information, generates the uri.</li>
<li><strong>Dumper</strong>: The opposite of <code>Loader</code>, dumps a <code>RouteCollection</code> in different formats.</li>
<li><strong>Router</strong>: basically a <a href="http://en.wikipedia.org/wiki/Facade_pattern">facade</a> to <code>Matcher</code> and <code>Generator</code>.</li>
</ul>


<h2>In Symfony2 framework</h2>

<p>Symfony2 framework reads routes from routing files with this component, matches the current <code>Request</code> and chooses which <code>Controller</code> and action to run. It also extends the <code>Router</code> so you can use parameter placeholders from <a href="https://github.com/symfony/DependencyInjection"><code>DependencyInjection</code></a> and integrates with the <a href="https://github.com/symfony/Config"><code>Config</code></a> component to allow caching.</p>

<h2>In Elcodi</h2>

<p>In Elcodi, as a library, we try not to couple our very few controllers to a specific route and we leave that responsibility to the layers above. For more complex scenarios, like the <a href="https://github.com/elcodi/MediaBundle"><code>MediaBundle</code></a> and the forthcoming <a href="https://github.com/elcodi/elcodi/tree/ec8fabe99489ae9dd1ef671eefaaa7ac89e24cdb/src/Elcodi/Bundle/PageBundle"><code>PageBundle</code></a>, we implement our own custom <code>Loader</code> so we can route through them.</p>

<h2>Conclusion</h2>

<p>This component deals with the next step just after getting your <a href="http://symfony.com/doc/current/components/http_foundation">HTTP Request</a> and gives you great power and flexibility to split your application into several routes.</p>

<p>I hope you find this component useful!</p>

<h2>Urls</h2>

<ul>
<li><a href="https://github.com/symfony/Routing">Repository</a></li>
<li><a href="http://symfony.com/doc/current/components/routing">Documentation</a></li>
<li><a href="https://packagist.org/packages/symfony/routing">Packagist</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/17/a-week-of-elcodi-number-3/">A Week of Elcodi #3 (10/11 - 17/11)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-17T17:25:20+01:00" pubdate data-updated="true">Nov 17<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This last week we were working hard on our next milestone: our presentation at the <a href="http://madrid2014.symfony.com">#SymfonyCon</a> on November 27th. <a href="https://github.com/mmoreram">@mmoreram</a> and <a href="https://github.com/alch">@alch</a> will speak about how we&rsquo;re building a flexible e-commerce library on top of best practices. We&rsquo;ll dig into the guts of <a href="http://elcodi.io">Elcodi</a> and talk about the tecnologies we&rsquo;ve been using to decouple and allow our users to customize everything to suit their business needs.</p>

<p>Also, @mmoream started walking this Sunday what he calls the <a href="http://mmoreram.com/blog/2014/08/07/symfony-walk-zaragoza-madrid">#SymfonyWalk</a>, a road-trip between Zaragoza and Madrid that will last for 10 days. All this on foot! We wish Marc good health and good luck in that journey!</p>

<p>In the more technical side, we&rsquo;ve been integrating <a href="https://github.com/elcodi/elcodi/tree/feature/page-component">our soon-to-be-released Elcodi&rsquo;s <code>PageBundle</code></a> into <code>bamboo-admin</code>, so you can add content pages to your stores. This will appear in the next release for sure, so… stay tuned!</p>

<p>Also, our <a href="https://github.com/hwi/HWIOAuthBundle/pull/677">PR for PayPal authentication</a> finally made it into HWI/OAuthBundle. Nice!</p>

<p>Have fun!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/11/a-week-of-elcodi-number-2/">A Week of Elcodi #2 (3/11 - 10/11)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-11T12:22:31+01:00" pubdate data-updated="true">Nov 11<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We&rsquo;ve been putting efforts into making better issues and PRs and closing older ones for a better GitHub experience for our contributors and users.</p>

<p>The PayPal web checkout has been reintegrated into the <a href="https://github.com/elcodi/bamboo-store/pull/56">bamboo store</a> meaning that the frontend store is able to receive real payments, other than integrating a <a href="https://github.com/elcodi/bamboo-store/pull/56">dummy payment module</a> for testing purposes. Next step is to integrate <a href="https://github.com/PaymentSuite/StripeBundle">stripe</a> or <a href="https://github.com/PaymentSuite/PaymillBundle">paymill</a>, which are much more developer-friendly. Stay tuned with the <a href="https://github.com/PaymentSuite">PaymentSuite</a> updates to see what&rsquo;s coming from there too!</p>

<p>Also, there&rsquo;s a <a href="https://github.com/hwi/HWIOAuthBundle/pull/677">new PR in HWI/OAuth</a> from our team to add PayPal login support.</p>

<p>We&rsquo;ve done our first hackaton. We met with some friends to talk about the project, about our implementations and about how to approach the development of our Page Component. It has definitely been the first of many more events like this.</p>

<p>And finally, as you may know, Elcodi will speak at the <a href="http://madrid2014.symfony.com/">SymfonyCon</a> at the end of November. We will talk about some cool things we&rsquo;ve been working on during last months and since we want to celebrate this, part of the team will be walking the <em>330km route</em> between Zaragoza and Madrid. You can read more about this adventure in these posts:</p>

<ul>
<li><a href="http://mmoreram.com/blog/2014/08/07/symfony-walk-zaragoza-madrid/">Symfony Walk</a></li>
<li><a href="http://mmoreram.com/blog/2014/08/12/one-section-one-component/">One section, one component</a></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/04/04/first-stable-release/">First stable release</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/01/elcodi-changes-its-technology/">Elcodi changes its technology</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/03/elcodi-bug-hunting/">Elcodi Bug Hunting</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/11/a-week-of-elcodi-number-5/">A Week of Elcodi #5 (24/11 - 08/12)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/25/a-week-of-elcodi-number-4/">A week of Elcodi #4 (17/11 - 24/11)</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/elcodi">@elcodi</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'elcodi',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Elcodi Team -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'Elcodi';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
